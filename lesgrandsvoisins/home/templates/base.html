{% load static wagtailcore_tags %}
<!DOCTYPE html>
<html>
  <head>
    {% block start_head %}
    {% endblock start_head %}
    <title>{{ title }}</title>
    <link href="{% static 'lesgrandsvoisins/fonts/grotesk/font.css' %}"
          rel="stylesheet" />
    <link href="{% static 'lesgrandsvoisins/fonts/fira-mono/font.css' %}"
          rel="stylesheet" />
    <link href="{% static 'lesgrandsvoisins/fonts/fira-sans/font.css' %}"
          rel="stylesheet" />
        <link href="{% static 'lesgrandsvoisins/fonts/fengardo/font.css' %}" rel="stylesheet" />
        <link href="{% static 'lesgrandsvoisins/fonts/golos-text/font.css' %}" rel="stylesheet" />
        <link href="{% static 'lesgrandsvoisins/fonts/golos-ui/font.css' %}" rel="stylesheet" />
        <link href="{% static 'lesgrandsvoisins/fonts/literata/font.css' %}" rel="stylesheet" />
        <link href="{% static 'lesgrandsvoisins/fonts/pt-mono/font.css' %}" rel="stylesheet" />
    {% comment %}
    {% endcomment %}
    <link href="{% static 'lesgrandsvoisins/css/tailwind.css' %}"
          rel="stylesheet" />
    <link href="{% static 'lesgrandsvoisins/css/lesgrandsvoisins.css' %}"
          rel="stylesheet" />
          <script>
            if (localStorage.theme === "dark" || (!("theme" in localStorage) && window.matchMedia("(prefers-color-scheme: dark)").matches)) {
              localStorage.theme = "dark";
            } else {
              localStorage.theme = "light";
            }
            document.documentElement.setAttribute('data-theme', localStorage.theme);
            function toggleLightDark() {
              if (localStorage.theme != "dark") {
                localStorage.theme = "dark";
              } else {
                localStorage.theme = "light";
              }
              document.documentElement.setAttribute('data-theme', localStorage.theme);
            }
          </script>
    <link rel="apple-touch-icon" sizes="57x57" href="{% static 'lesgrandsvoisins/images/favicon/apple-icon-57x57.png'%}">
    <link rel="apple-touch-icon" sizes="60x60" href="{% static 'lesgrandsvoisins/images/favicon/apple-icon-60x60.png'%}">
    <link rel="apple-touch-icon" sizes="72x72" href="{% static 'lesgrandsvoisins/images/favicon/apple-icon-72x72.png'%}">
    <link rel="apple-touch-icon" sizes="76x76" href="{% static 'lesgrandsvoisins/images/favicon/apple-icon-76x76.png'%}">
    <link rel="apple-touch-icon" sizes="114x114" href="{% static 'lesgrandsvoisins/images/favicon/apple-icon-114x114.png'%}">
    <link rel="apple-touch-icon" sizes="120x120" href="{% static 'lesgrandsvoisins/images/favicon/apple-icon-120x120.png'%}">
    <link rel="apple-touch-icon" sizes="144x144" href="{% static 'lesgrandsvoisins/images/favicon/apple-icon-144x144.png'%}">
    <link rel="apple-touch-icon" sizes="152x152" href="{% static 'lesgrandsvoisins/images/favicon/apple-icon-152x152.png'%}">
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'lesgrandsvoisins/images/favicon/apple-icon-180x180.png'%}">
    <link rel="icon" type="image/png" sizes="192x192"  href="{% static 'lesgrandsvoisins/images/favicon/android-icon-192x192.png'%}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'lesgrandsvoisins/images/favicon/favicon-32x32.png'%}">
    <link rel="icon" type="image/png" sizes="96x96" href="{% static 'lesgrandsvoisins/images/favicon/favicon-96x96.png'%}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'lesgrandsvoisins/images/favicon/favicon-16x16.png'%}">
    {% comment %} <link rel="manifest" href="{% static 'lesgrandsvoisins/images/favicon/manifest.json">
    <meta'%} name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff"> {% endcomment %}
    {% block end_head %}
    {% endblock end_head %}
  </head>
  <body class="bg-gray-50 text-gray-800 dark:text-gray-50 dark:bg-gray-800 m-8">
    {% block start_body %}
    {% endblock start_body %}
    <a href="/"><img src="{% static 'lesgrandsvoisins/images/logo_lesgrandsvoisins_600_72.inkscape.svg' %}"></a>
    <nav class="flex gap-2 w-full justify-center prose dark:prose-invert">
      {% comment %}
      <button
    type="button"
    data-theme-toggle
    aria-label="Change to light theme"
  >Change to light theme (or icon here)</button>
  {% endcomment %}
      <a href="#" onClick="javascript:toggleLightDark();"><svg class="svg-icon" style="width: 1.6rem; height: 1.6rem;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M320 85.333333c-76.373333 49.066667-128 135.68-128 234.666667s51.626667 185.6 129.28 234.666667C190.293333 554.666667 85.333333 449.706667 85.333333 320A234.666667 234.666667 0 0 1 320 85.333333m493.653333 64l61.013334 61.013334L210.346667 874.666667 149.333333 813.653333 813.653333 149.333333m-263.68 103.68L486.826667 213.333333 425.386667 256l17.92-72.533333L384 138.24l74.666667-5.12 24.746666-70.4L512 132.266667l73.813333 1.28-57.6 48.213333 21.76 71.253333m-140.8 154.026667l-49.493333-31.146667-47.786667 33.28 14.506667-56.32-46.506667-35.413333 58.026667-3.84 19.2-55.04 21.76 54.186667 58.026667 1.28-44.8 37.12 17.066666 55.893333M810.666667 576a234.666667 234.666667 0 0 1-234.666667 234.666667c-52.053333 0-100.266667-17.066667-139.093333-45.653334l328.106666-328.106666c28.586667 38.826667 45.653333 87.04 45.653334 139.093333m-187.733334 280.746667l118.186667-49.066667-10.24 142.933333-107.946667-93.866666m184.746667-115.2l49.066667-118.186667 93.866666 108.373333-142.933333 9.813334m49.066667-211.626667l-48.64-118.613333 142.506666 10.24-93.866666 108.373333M410.88 807.68l118.186667 49.066667-107.946667 93.44-10.24-142.506667z" fill="" /></svg></a>
      
      {% if 'username' in request.session %}
        <a href="{% url 'lesgrandsvoisins_dashboard' %}">{{ request.session.username }}</a>
        {% comment %} <a href="{% url 'ldap_logout' %}">Déconnexion</a> {% endcomment %}
      {% else %}
        {% comment %} <a href="{% url 'keycloak_login' %}">Connexion</a> {% endcomment %}
         <div>Connexion (à venir)</div>
        <a href="{% url 'keycloak_register' %}">S'enregistrer</a>
      {% endif %}
      </nav>
      <hr class="mb-2"/>
      {% block content %}
      {% endblock content %}
      <hr class="mt-4" />
      <footer class="md:flex">
        {% block footer %}
        {% for eachfooter in footers %}
          {% for content in eachfooter.contents %}
          <div class="w-1/1 md:w-1/2  text-center">
            {% include_block content %}
          </div>
          {% endfor %}
        {% endfor %}
        {% comment %} 
        <div class="w-1/1 md:w-1/2  text-center">
          {{ footer.content | richtext}}
        </div>
        {% endfor %}
        {% endcomment %} 
        {% comment %} 

        <div class="w-1/1 md:w-1/2 text-center">
          <h2>Les Grands Voisins</h2>
          <p>
            Site de communs communautaires: <a href="https://www.lesgrandsvoisins.com">lesgrandsvoisins.com</a>
          </p>
        </div>
        <div class="w-1/1 md:w-1/2  text-center">
          <h3>Rubriques des Grands Voisins</h3>
          <div class="flex gap-3 flex-wrap items-center justify-center">
            <div>
              <a href="https://www.lesgrandsvoisins.com/fr/annuaire/">Annuaire</a>
            </div>
            <div>
              <a href="https://www.lesgrandsvoisins.com/fr/agenda/">Agenda</a>
            </div>
            <div>
              <a href="https://blog.lesgrandsvoisins.com">Actualit&eacute;s</a>
            </div>
            <div>
              <a href="https://www.lesgrandsvoisins.com/fr/association/">Association</a>
            </div>
            <div>
              <a href="https://www.lesgv.com/fr/">Apps</a>
            </div>
          </div>
          
        </div> {% endcomment %}
      {% endblock footer %}
      </footer>
      <script src="https://code.iconify.design/1/1.0.6/iconify.min.js"></script>
      {% block end_body %}
      {% endblock end_body %}
    </body>
  </html>
